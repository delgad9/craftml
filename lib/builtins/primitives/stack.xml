<craft name="stack">
    <parameter name="spacing" type="float" default="0"/>
    <group>
        <content></content>
    </group>
    <script type="text/craftml">

        function main(params, scope){

            var contentSolids = scope.solids[0].children
            var tz = 0
            _.forEachRight(contentSolids, function(solid){
                var newLoc = {
                    x: solid.layout.location.x,
                    y: solid.layout.location.y,
                    z: tz
                }
                solid.translateTo(newLoc)
                tz = tz + solid.layout.size.z + params.spacing
            })

            scope.solids[0].fitToChildren1()
        }

    </script>
</craft>
