<craft name="dome">
    <parameter name="width" type="int" default="10"/>
    <parameter name="sides" type="int" default="50"/>

    <script type="text/openjscad">
        // handles fn
        if (params.sides > 100) { params.sides = 100; }

        this.add(dome())

        function dome() {
            var s, diff;

            // parts
            s = sphere({
                r: params.width / 2,
                fn: params.sides
            });

            diff = cube({
                size: [params.width, params.width, params.width]
            }).translate([-params.width / 2, -params.width / 2, -params.width])

            return difference(s, diff).translate([5, 4.99013, 0])
        }
    </script>

</craft>
