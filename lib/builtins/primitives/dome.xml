<craft name="dome">
    <parameter name="width" type="int" default="10"/>
    <parameter name="sides" type="int" default="50"/>

    <script>

        var theta
        var dtheta = Math.PI/32
        var cs = []

        for (theta=0; theta < Math.PI/2 - dtheta; theta += dtheta){
            var c = {}
            c.z = Math.sin(theta) * $scope.width/2
            c.r = Math.cos(theta) * $scope.width/2
            theta = theta + dtheta
            cs.push(c)
        }

        $scope.cs = cs

    </script>

    <solidify>
        <repeat each="c" in="{{cs}}">
            <circle radius="{{c.r}}" t="setZ({{c.z}})"></circle>
        </repeat>
        <point x="5" y="5" z="{{width/2}}"/>
    </solidify>

</craft>
