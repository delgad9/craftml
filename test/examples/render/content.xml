<craft>
    <craft name="foo">
        <g></g>
        <content></content>
    </craft>
    <foo>
        <script type="text/openjscad">
            function main(params, scope){
                return cube()
            }
        </script>
    </foo>
    <script>
        function main(params, scope){
            expect(this.children[0].type).to.be.eql('define')
            expect(this.children[1].type).to.be.eql('merge')

            expect(this.children[1].children).to.have.length(2)
            expect(this.children[1].children[0].element.name).to.be.eql('g')
            expect(this.children[1].children[1].element.name).to.be.eql('content')
            expect(this.children[1].children[1].children[0].element.name).to.be.eql('script')

            //this.pp()
        }
    </script>
</craft>
